@:realPath("js.html.eme.MediaKeySession") @:native("MediaKeySession")
extern class MediaKeySession extends EventTarget {

	var error(default,null):MediaKeyError;

	var sessionId(default,null):String;

	var expiration(default,null):Float;

	var closed(default,null):Promise<Void>;

	var keyStatuses(default,null):MediaKeyStatusMap;

	var onkeystatuseschange:haxe.Function;

	var onmessage:haxe.Function;

	function generateRequest(initDataType:String, initData:js.lib.ArrayBufferView):Promise<Void>;

	function generateRequest(initDataType:String, initData:ArrayBuffer):Promise<Void>;

	function load(sessionId:String):Promise<Bool>;

	function update(response:js.lib.ArrayBufferView):Promise<Void>;

	function update(response:ArrayBuffer):Promise<Void>;

	function close():Promise<Void>;

	function remove():Promise<Void>;
}
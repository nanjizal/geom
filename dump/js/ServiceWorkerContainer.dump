@:realPath("js.html.ServiceWorkerContainer") @:native("ServiceWorkerContainer")
extern class ServiceWorkerContainer extends EventTarget {

	var controller(default,null):ServiceWorker;

	var ready(default,null):Promise<ServiceWorkerRegistration>;

	var oncontrollerchange:haxe.Function;

	var onerror:haxe.Function;

	var onmessage:haxe.Function;

	function register(scriptURL:String, options:Null<js.html.RegistrationOptions>):Promise<ServiceWorkerRegistration>;

	@:value({ documentURL : "" })
	function getRegistration(documentURL:String):Promise<Dynamic>;

	function getRegistrations():Promise<Array<ServiceWorkerRegistration>>;
}
@:ifFeature("anon_read.keyValueIterator", "dynamic_read.keyValueIterator")
class haxe.iterators.MapKeyValueIterator<K : haxe.iterators.MapKeyValueIterator.K,V : haxe.iterators.MapKeyValueIterator.V> {

	public function new(map:haxe.IMap<haxe.iterators.MapKeyValueIterator.K, haxe.iterators.MapKeyValueIterator.V>) {
		this.map = map;
		this.keys = map.keys();
	}

	var map:haxe.IMap<haxe.iterators.MapKeyValueIterator.K, haxe.iterators.MapKeyValueIterator.V>;

	var keys:Iterator<haxe.iterators.MapKeyValueIterator.K>;

	@:maybeUsed
	public function hasNext() {
		return this.keys.hasNext();
	}

	@:maybeUsed
	public function next() {
		var key = this.keys.next();
		return {value : this.map.get(key), key : key};
	}
}
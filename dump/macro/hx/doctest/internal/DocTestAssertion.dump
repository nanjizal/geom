@:noDoc @:dox(hide)
class hx.doctest.internal.DocTestAssertion {

	public function new(file:hx.doctest.internal.SourceFile, expression:String, lineNumber:Int, charStart:Int, charEnd:Int) {
		this.file = file;
		this.expression = expression;
		this.lineNumber = lineNumber;
		this.charStart = charStart;
		this.charEnd = charEnd;
	}

	public var file(default,null):hx.doctest.internal.SourceFile;

	public var lineNumber(default,null):Int;

	public var expression(default,null):String;

	public var charStart(default,null):Int;

	public var charEnd(default,null):Int;

	@:value({ fullPath : true })
	public function getSourceLocation(fullPath:Bool = true) {
		return {filePath : if (fullPath) {
			this.file.filePath;
		} else {
			this.file.fileName;
		}, lineNumber : this.lineNumber, charStart : this.charStart, charEnd : this.charEnd};
	}

	@:value({ fullPath : true })
	public function getPosInfos(fullPath:Bool = true) {
		return {fileName : if (fullPath) {
			this.file.filePath;
		} else {
			this.file.fileName;
		}, lineNumber : this.lineNumber, className : "", methodName : ""};
	}
}
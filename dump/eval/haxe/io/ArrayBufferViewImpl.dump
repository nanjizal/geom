@:keep @:directlyUsed @:used
class haxe.io.ArrayBufferViewImpl {

	public function new(bytes:haxe.io.Bytes, pos:Int, length:Int) {
		this.bytes = bytes;
		this.byteOffset = pos;
		this.byteLength = length;
	}

	public var bytes:haxe.io.Bytes;

	public var byteOffset:Int;

	public var byteLength:Int;

	public function sub(begin:Int, length:Null<Int> = null) {
		if ((length == null)) length = this.byteLength - begin;
		if ((begin < 0 || length < 0 || begin + length > this.byteLength)) throw haxe.Exception.thrown(haxe.io.Error.OutsideBounds);
		return new haxe.io.ArrayBufferViewImpl(this.bytes, this.byteOffset + begin, length);
	}

	public function subarray(begin:Null<Int> = null, end:Null<Int> = null) {
		if ((begin == null)) begin = 0;
		if ((end == null)) end = this.byteLength - begin;
		return this.sub(begin, end - begin);
	}
}